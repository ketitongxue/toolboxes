<!DOCTYPE html>
<html lang="zh-CN" class="scroll-smooth">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>CraftToolLab - å¤šåŠŸèƒ½åœ¨çº¿å·¥å…·é›† | crafttoollab.com</title>
        <meta name="description" content="CraftToolLabä¸“ä¸šæä¾›è¿›åˆ¶è½¬æ¢ã€å­—èŠ‚æ¢ç®—å’ŒJSONæ ¼å¼åŒ–å·¥å…·ï¼Œæ”¯æŒå®æ—¶é¢„è§ˆå’Œè·¨è®¾å¤‡ä½¿ç”¨ï¼Œæ»¡è¶³å¼€å‘è€…æ—¥å¸¸éœ€æ±‚ã€‚">
        <meta name="keywords" content="JSONæ ¼å¼åŒ–,åœ¨çº¿å·¥å…·,è¿›åˆ¶è½¬æ¢,å­—èŠ‚æ¢ç®—,ä»£ç ç¾åŒ–">
        <link rel="canonical" href="https://crafttoollab.com/">
        <script src="https://cdn.tailwindcss.com"></script>
        <style>
            .input-transition { transition: all 0.3s ease-in-out; }
            .input-highlight:focus { box-shadow: 0 0 0 3px rgba(0, 125, 250, 0.3); }
            .result-card { background: linear-gradient(145deg, #f8f9fa, #ffffff); }
            .unit-select { min-width: 90px; }
            .tab-content { display: none; }
            .tab-active { display: block; }
            .nav-link { 
                transition: all 0.2s ease;
                padding: 0.75rem 1.5rem;
                border-radius: 9999px;
                font-size: 0.9rem;
            }
            .nav-link.active {
                background-color: #007AFF;
                color: white;
            }
            .json-editor {
                min-height: 200px;
                font-family: 'Menlo', monospace;
                tab-size: 2;
            }
            .json-key { color: #D32F2F; }
            .json-string { color: #689F38; }
            .json-number { color: #1976D2; }
            .json-boolean { color: #7B1FA2; }
            .json-null { color: #616161; }
        </style>
    </head>
    <body class="bg-gray-50 min-h-screen">
        <main class="container mx-auto px-4 py-8 max-w-4xl">
            <!-- æ ‡é¢˜éƒ¨åˆ† -->
            <h1 class="text-4xl md:text-5xl font-bold text-gray-900 mb-6 text-center">
                <span class="bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-sky-500">
                    CraftToolLab
                </span>
            </h1>
            <p class="text-gray-600 text-center mb-8 text-lg">ğŸ”§ æ‚¨çš„å…¨èƒ½åœ¨çº¿è®¡ç®—å·¥å…·é›†</p>
    
            <!-- å¯¼èˆªé€‰é¡¹å¡ -->
            <div class="flex justify-center mb-8 gap-2 flex-wrap">
                <button class="nav-link active" onclick="switchTab('base')">è¿›åˆ¶è½¬æ¢</button>
                <button class="nav-link" onclick="switchTab('byte')">å­—èŠ‚æ¢ç®—</button>
                <button class="nav-link" onclick="switchTab('json')">JSONæ ¼å¼åŒ–</button>
            </div>
    
            <!-- è¿›åˆ¶è½¬æ¢æ¨¡å— -->
            <div id="base-tab" class="tab-content bg-white rounded-2xl shadow-lg p-6 md:p-8 tab-active">
                <h2 class="text-2xl font-semibold text-gray-800 mb-6">è¿›åˆ¶è½¬æ¢å™¨</h2>
                <div class="space-y-4">
                    <div>
                        <label class="block text-gray-700 mb-2">äºŒè¿›åˆ¶ (è¯·è¾“å…¥0-1å†…çš„æ•°å­—)</label>
                        <input type="text" id="binary" 
                               class="w-full p-3 border rounded-lg input-transition input-highlight"
                               placeholder="è¾“å…¥äºŒè¿›åˆ¶æ•°å­—" 
                               pattern="[01]+"
                               oninput="convert(2, this.value)">
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-2">åè¿›åˆ¶ (è¯·è¾“å…¥0-9å†…çš„æ•°å­—)</label>
                        <input type="number" id="decimal" 
                               class="w-full p-3 border rounded-lg input-transition input-highlight"
                               placeholder="è¾“å…¥åè¿›åˆ¶æ•°å­—"
                               oninput="convert(10, this.value)">
                    </div>
                    <div>
                        <label class="block text-gray-700 mb-2">åå…­è¿›åˆ¶ (è¯·è¾“å…¥0-9å†…çš„æ•°å­—æˆ–A-Fä»¥å†…çš„å­—æ¯)</label>
                        <input type="text" id="hex" 
                               class="w-full p-3 border rounded-lg input-transition input-highlight"
                               placeholder="è¾“å…¥åå…­è¿›åˆ¶æ•°å­—"
                               pattern="[0-9A-Fa-f]+"
                               oninput="convert(16, this.value)">
                    </div>
                </div>
                <div class="mt-8 result-card p-6 rounded-xl border">
                    <h3 class="text-lg font-medium text-gray-700 mb-4">è½¬æ¢ç»“æœ</h3>
                    <div class="space-y-3">
                        <p class="text-gray-600">äºŒè¿›åˆ¶: <span id="result-binary" class="text-blue-600 font-mono">-</span></p>
                        <p class="text-gray-600">åè¿›åˆ¶: <span id="result-decimal" class="text-blue-600 font-mono">-</span></p>
                        <p class="text-gray-600">åå…­è¿›åˆ¶: <span id="result-hex" class="text-blue-600 font-mono">-</span></p>
                    </div>
                </div>
            </div>
    
            <!-- å­—èŠ‚è½¬æ¢æ¨¡å— -->
            <div id="byte-tab" class="tab-content bg-white rounded-2xl shadow-lg p-6 md:p-8">
                <h2 class="text-2xl font-semibold text-gray-800 mb-6">å­—èŠ‚å•ä½æ¢ç®—</h2>
                <div class="space-y-4">
                    <div class="grid grid-cols-1 md:grid-cols-2 gap-4">
                        <div class="flex gap-2">
                            <input type="number" id="bytesInput" 
                                   class="flex-1 p-3 border rounded-lg input-transition input-highlight"
                                   placeholder="è¾“å…¥æ•°å€¼"
                                   step="any"
                                   oninput="convertBytes('custom', this.value)">
                            <select id="bytesUnit" 
                                    class="unit-select p-3 border rounded-lg bg-white input-transition"
                                    onchange="convertBytes('custom', document.getElementById('bytesInput').value)">
                                <option value="B">å­—èŠ‚ (B)</option>
                                <option value="KB">åƒå­—èŠ‚ (KB)</option>
                                <option value="MB">å…†å­—èŠ‚ (MB)</option>
                                <option value="GB">å‰å­—èŠ‚ (GB)</option>
                                <option value="TB">å¤ªå­—èŠ‚ (TB)</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="mt-8 result-card p-6 rounded-xl border">
                    <h3 class="text-lg font-medium text-gray-700 mb-4">æ¢ç®—ç»“æœ</h3>
                    <div class="grid grid-cols-2 md:grid-cols-5 gap-4">
                        <div>
                            <p class="text-sm text-gray-500">å­—èŠ‚ (B)</p>
                            <p class="text-blue-600 font-mono" id="result-B">-</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">åƒå­—èŠ‚ (KB)</p>
                            <p class="text-blue-600 font-mono" id="result-KB">-</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">å…†å­—èŠ‚ (MB)</p>
                            <p class="text-blue-600 font-mono" id="result-MB">-</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">å‰å­—èŠ‚ (GB)</p>
                            <p class="text-blue-600 font-mono" id="result-GB">-</p>
                        </div>
                        <div>
                            <p class="text-sm text-gray-500">å¤ªå­—èŠ‚ (TB)</p>
                            <p class="text-blue-600 font-mono" id="result-TB">-</p>
                        </div>
                    </div>
                </div>
            </div>

            <!-- JSONæ ¼å¼åŒ–æ¨¡å— -->
            <div id="json-tab" class="tab-content bg-white rounded-2xl shadow-lg p-6 md:p-8">
                <h2 class="text-2xl font-semibold text-gray-800 mb-6">JSONæ ¼å¼åŒ–å·¥å…·</h2>
                <div class="space-y-4">
                    <div class="relative">
                        <textarea id="json-input" 
                            class="w-full p-3 border rounded-lg input-transition input-highlight json-editor"
                            placeholder="è¾“å…¥æˆ–ç²˜è´´JSONæ•°æ®"
                            spellcheck="false"
                            oninput="formatJSON(this.value)"></textarea>
                        <!-- æ–°å¢æ¸…é™¤æŒ‰é’® -->
                        <button onclick="clearJSONInput()" 
                                class="absolute right-3 top-3 p-2 text-gray-500 hover:text-red-500 transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                            </svg>
                        </button>
                    </div>
                </div>

                <div class="mt-8 result-card p-6 rounded-xl border">
                    <div class="flex justify-between items-center mb-4">
                        <h3 class="text-lg font-medium text-gray-700">æ ¼å¼åŒ–ç»“æœ</h3>
                        <div class="flex gap-2">
                            <button onclick="copyJSON()" 
                                    class="px-3 py-1 text-sm bg-blue-100 text-blue-600 rounded-lg hover:bg-blue-200 transition-colors">
                                å¤åˆ¶ç»“æœ
                            </button>
                        </div>
                    </div>
                    <pre id="json-output" class="overflow-x-auto p-4 bg-gray-50 rounded-lg"></pre>
                    <p id="json-error" class="text-red-500 mt-2 hidden">âŒ æ— æ•ˆçš„JSONæ ¼å¼ï¼Œè¯·æ£€æŸ¥è¾“å…¥</p>
                </div>
            </div>
        </main>

<script>
// è¿›åˆ¶è½¬æ¢å‡½æ•°
function convert(fromBase, value) {
    try {
        let decimal = fromBase === 10 ? parseInt(value, 10) : 
                     fromBase === 2 ? parseInt(value, 2) : 
                     parseInt(value, 16);

        if (isNaN(decimal)) {
            clearByteResults();
            return;
        }

        document.getElementById('result-binary').textContent = decimal.toString(2);
        document.getElementById('result-decimal').textContent = decimal;
        document.getElementById('result-hex').textContent = decimal.toString(16).toUpperCase();

        // æ›´æ–°å…¶ä»–è¾“å…¥æ¡†
        if(fromBase !== 2) document.getElementById('binary').value = decimal.toString(2);
        if(fromBase !== 10) document.getElementById('decimal').value = decimal;
        if(fromBase !== 16) document.getElementById('hex').value = decimal.toString(16).toUpperCase();
    } catch(e) {
        clearByteResults();
    }
}

// å­—èŠ‚è½¬æ¢å‡½æ•°
function convertBytes(fromType, value) {
    const units = ['B', 'KB', 'MB', 'GB', 'TB'];
    const inputUnit = document.getElementById('bytesUnit').value;
    const inputValue = parseFloat(value);
    
    if (isNaN(inputValue)) {
        clearByteResults();
        return;
    }

    try {
        // è®¡ç®—åŸºå‡†å­—èŠ‚æ•°
        let bytes = inputValue;
        switch(inputUnit) {
            case 'KB': bytes *= 1024; break;
            case 'MB': bytes *= 1024 ** 2; break;
            case 'GB': bytes *= 1024 ** 3; break;
            case 'TB': bytes *= 1024 ** 4; break;
        }

        // æ›´æ–°æ‰€æœ‰å•ä½æ˜¾ç¤º
        document.getElementById('result-B').textContent = formatNumber(bytes);
        document.getElementById('result-KB').textContent = formatNumber(bytes / 1024);
        document.getElementById('result-MB').textContent = formatNumber(bytes / (1024 ** 2));
        document.getElementById('result-GB').textContent = formatNumber(bytes / (1024 ** 3));
        document.getElementById('result-TB').textContent = formatNumber(bytes / (1024 ** 4));
    } catch(e) {
        clearByteResults();
    }
}

function formatNumber(num) {
    if (num === 0) return '0';
    if (num >= 1e18) return num.toExponential(2);
    return num.toLocaleString('zh-CN', {
        maximumFractionDigits: 2,
        useGrouping: false
    });
}

// JSONæ ¼å¼åŒ–åŠŸèƒ½
function formatJSON(input) {
    const output = document.getElementById('json-output');
    const errorMsg = document.getElementById('json-error');
    
    try {
        const parsed = JSON.parse(input);
        const formatted = syntaxHighlight(parsed);
        output.innerHTML = formatted;
        errorMsg.classList.add('hidden');
    } catch (e) {
        output.innerHTML = '';
        errorMsg.classList.remove('hidden');
    }
}

// æ–°å¢æ¸…é™¤å‡½æ•°
function clearJSONInput() {
    document.getElementById('json-input').value = '';
    document.getElementById('json-output').innerHTML = '';
    document.getElementById('json-error').classList.add('hidden');
}

// è¯­æ³•é«˜äº®è§„åˆ™å‡½æ•°
function syntaxHighlight(json) {
    if (typeof json != 'string') json = JSON.stringify(json, null, 2);
    
    // è¯­æ³•é«˜äº®è§„åˆ™
    return json.replace(/("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(\s*:)?|\b(true|false|null)\b|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?)/g, 
    match => {
        let cls = 'json-number';
        if (/^"/.test(match)) {
            if (/:$/.test(match)) {
                cls = 'json-key';
            } else {
                cls = 'json-string';
            }
        } else if (/true|false/.test(match)) {
            cls = 'json-boolean';
        } else if (/null/.test(match)) {
            cls = 'json-null';
        }
        return '<span class="' + cls + '">' + match + '</span>';
    });
}

function copyJSON() {
    const output = document.getElementById('json-output');
    navigator.clipboard.writeText(output.innerText)
        .then(() => alert('å·²å¤åˆ¶åˆ°å‰ªè´´æ¿'))
        .catch(() => alert('å¤åˆ¶å¤±è´¥'));
}

// é€‰é¡¹å¡åˆ‡æ¢åŠŸèƒ½
function switchTab(tabName) {
    // åˆ‡æ¢å¯¼èˆªæ ·å¼
    document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('active');
    });
    event.target.classList.add('active');

    // åˆ‡æ¢å†…å®¹æ˜¾ç¤º
    document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.remove('tab-active');
    });
    document.getElementById(`${tabName}-tab`).classList.add('tab-active');
}

// åˆå§‹åŒ–é»˜è®¤æ˜¾ç¤ºè¿›åˆ¶è½¬æ¢æ¨¡å—
document.addEventListener('DOMContentLoaded', () => {
    document.getElementById('base-tab').classList.add('tab-active');
});

function clearByteResults() {
    document.querySelectorAll('[id^="result-"]').forEach(el => el.textContent = '-');
}


</script>
</body>
</html>